description: Record a snapshot of the application dependencies on snyk.io, for continueous monitoring and alerts. Runs as part of the scan command.
parameters:
  target-file:
    description: The path to the manifest file to be used by Snyk.
    type: string
    default: ""
  docker-image-name:
    description: The image name, if scanning a container image
    type: string
    default: ""
  organization: 
    description: >
      Name of the Snyk organisation name, under which this project should be tested and monitored
      If omitted the default organization will be used.
    type: string
    default: ""
  project:
    description: >
      A custom name for the Snyk project to be created on snyk.io.
      If omitted a default-generated project name will be used.
    type: string
    default: ""
  additional-arguments:
    description: Refer to the Snyk CLI help page for information on additional arguments.
    type: string
    default: ""
steps:
  - run:
      name: "Run Snyk Monitor for continuous monitoring on snyk.io"
      command: >
        snyk monitor 
        <<#parameters.docker-image-name>>--docker <<parameters.docker-image-name>><</parameters.docker-image-name>>
        <<#parameters.project>>--project-name=<<parameters.project>><</parameters.project>>
        <<#parameters.organization>>--org=<<parameters.organization>><</parameters.organization>>
        <<#parameters.target-file>>--file=<<parameters.target-file>><</parameters.target-file>>
        <<parameters.additional-arguments>>

